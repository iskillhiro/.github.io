def formatCondition(condition):
    switcher = {
        'clear': 'Ясно ☀️',
        'partly-cloudy': 'Переменная облачность 🌤️',
        'cloudy': 'Облачно ☁️',
        'overcast': 'Пасмурно ☁️',
        'light_rain': 'Легкий дождь 🌦️',
        'rain': 'Дождь 🌧️',
        'heavy-rain': 'Сильный дождь ⛈️',
        'showers': 'Ливень 🌧️',
        'sleet': 'Мокрый снег 🌨️',
        'light_snow': 'Легкий снег 🌨️',
        'snow': 'Снег ❄️',
        'snowfall': 'Снегопад 🌨️',
        'hail': 'Град 🌨️',
        'thunderstorm': 'Гроза ⛈️',
        'thunderstorm-with-rain': 'Гроза с дождем ⛈️',
        'thunderstorm-with-hail': 'Гроза с градом ⛈️',
    }
    return switcher.get(condition.lower(), 'Неизвестно ❓')
def formatCondition(weather_code):
    condition_mapping = {
        200: 'Гроза с небольшим дождем ⛈️',
        201: 'Гроза с дождем ⛈️',
        202: 'Гроза с сильным дождем ⛈️',
        210: 'Легкая гроза ⛈️',
        211: 'Гроза ⛈️',
        212: 'Сильная гроза ⛈️',
        221: 'Неровная гроза ⛈️',
        230: 'Гроза с небольшим моросью ⛈️',
        231: 'Гроза с моросью ⛈️',
        232: 'Гроза с сильным моросящим дождем ⛈️',
        300: 'Слабый дождь 🌧️',
        301: 'Морось 🌧️',
        302: 'Сильный дождь изморось 🌧️',
        310: 'Небольшой дождь изморось 🌧️',
        311: 'Моросящий дождь 🌧️',
        312: 'Сильный моросящий дождь 🌧️',
        313: 'Дождь с моросью 🌧️',
        314: 'Сильный ливень и морось 🌧️',
        321: 'Дождь из душа 🌧️',
        500: 'Легкий дождь 🌧️',
        501: 'Умеренный дождь 🌧️',
        502: 'Сильный дождь 🌧️',
        503: 'Очень сильный дождь 🌧️',
        504: 'Сильный дождь 🌧️',
        511: 'Ледяной дождь 🌧️',
        520: 'Легкий дождь 🌧️',
        521: 'Ливень 🌧️',
        522: 'Сильный ливень 🌧️',
        531: 'Неровный дождь 🌧️',
        600: 'Легкий снег 🌨️',
        601: 'Снег 🌨️',
        602: 'Сильный снегопад 🌨️',
        611: 'Мокрый снег 🌨️',
        612: 'Легкий дождь с мокрым снегом 🌨️',
        613: 'Мокрый дождь 🌨️',
        615: 'Небольшой дождь и снег 🌨️',
        616: 'Дождь и снег 🌨️',
        620: 'Легкий ливневый снег 🌨️',
        621: 'Ливневый снег 🌨️',
        622: 'Сильный снегопад 🌨️',
        701: 'Туман 🌫️',
        711: 'Дым 🌫️',
        721: 'Туман 🌫️',
        731: 'Песчано-пылевые вихри 🌫️',
        741: 'Туман 🌫️',
        751: 'Песок 🌫️',
        761: 'Пыль 🌫️',
        762: 'Вулканический пепел 🌫️',
        771: 'Шквалы 🌫️',
        781: 'Торнадо 🌪️',
        800: 'Чистое небо ☀️',
        801: 'Мало облаков: 11-25% 🌤️',
        802: 'Рассеянные облака: 25-50% 🌤️',
        803: 'Разорванные облака: 51-84% 🌥️',
        804: 'Пасмурная облачность: 85-100% ☁️',
    }
    return condition_mapping.get(weather_code, 'Неизвестно ❓')

def check_fishing_conditions(data, mid_temp, max_temp):
    messages = []
    wind_speed = data.get('wind', {}).get('speed', 0)
    pressure_hpa = data.get('main', {}).get('pressure', 0)
    pressure_mm_hg = pressure_hpa * 0.75006
    weather_code = data.get('weather', [{}])[0].get('id', 0)

    # Проверка температуры
    if mid_temp < 18 and max_temp < 18:
        messages.append('\n⚠️ Слишком холодно для рыбалки.')
    else:
        messages.append('✅ Отличная температура для рыбалки!')

    # Проверка состояния погоды
    if weather_code not in range(800, 805):
        messages.append(f'⚠️ Сегодня ожидаются неблагоприятные погодные условия для рыбалки: {formatCondition(weather_code)}.')
    else:
        messages.append(f'✅ Отличные погодные условия для рыбалки: {formatCondition(weather_code)}')

    # Проверка атмосферного давления
    if pressure_mm_hg <= 730 or pressure_mm_hg >= 780:
        messages.append('⚠️ Аномальное атмосферное давление.')
    else:
        messages.append('✅ Атмосферное давление в норме.')

    # Проверка осадков
    if 'rain' in data:
        messages.append('⚠️ Сегодня ожидается дождь.')
    elif 'snow' in data:
        messages.append('⚠️ Сегодня ожидается снег.')
    else:
        messages.append('✅ Осадков не ожидается.')

    # Проверка скорости ветра
    if wind_speed > 8:
        messages.append('⚠️ Сильный ветер может усложнить рыбалку.')
    else:
        messages.append('✅ Скорость ветра низкая.')

    # Собираем все сообщения в одну строку с переносами строки
    result = '\n'.join(messages)
    return result

